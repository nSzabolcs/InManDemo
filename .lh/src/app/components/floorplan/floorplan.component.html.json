{
    "sourceFile": "src/app/components/floorplan/floorplan.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1753092958529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753092965303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,329 @@\n+<div class=\"container\">\n+  <h2>Alaprajz szerkesztése</h2>\n+\n+  <div class=\"toolbar\">\n+\n+    <mat-button-toggle-group name=\"modeselect\" [(ngModel)]=\"mode\" (change)=\"onModeChange()\"\n+      [hideSingleSelectionIndicator]=\"true\">\n+      <mat-button-toggle value=\"select\" title=\"Kijelölés\"><mat-icon>arrow_upward</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"line\" title=\"Vonal\"><mat-icon>remove</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"polyline\" title=\"Vonallánc\"><mat-icon> show_chart</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"rect\" title=\"Téglalap\"><mat-icon>crop_square</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"ellipse\"\n+        title=\"Ellipszis\"><mat-icon>radio_button_unchecked</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"polygon\" title=\"Poligon\"><mat-icon>star_border</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"textbox\" title=\"Szöveg\"><mat-icon> text_fields</mat-icon> </mat-button-toggle>\n+    </mat-button-toggle-group>\n+\n+    <div class=\"mat-button-group\">\n+\n+      <mat-checkbox class=\"example-margin\" color=\"primary\" [(ngModel)]=\"gridSnapEnabled\">Rácshoz igazítás</mat-checkbox>\n+\n+      <button mat-flat-button (click)=\"clearCanvas()\" title=\"Rajzlap törlése\">\n+        <mat-icon>cancel_presentation</mat-icon>\n+        Törlés\n+      </button>\n+      <button mat-flat-button (click)=\"resetView()\" title=\"Nézet alaphelyzetbe állítása\">\n+        <mat-icon>zoom_out_map</mat-icon>\n+        Nézet alaphelyzet\n+      </button>\n+    </div>\n+\n+  </div>\n+  <div class=\"toolbar\">\n+\n+    <canvas id=\"canvas-id\"  ></canvas>\n+\n+    <div class=\"details\">\n+\n+      <!-- TEXT DETAILS -->\n+      <div *ngIf=\"showTextPanel\" class=\"text-settings\">\n+        <h3 class=\"title\">Szöveg tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"text-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"text-color\" type=\"color\" [(ngModel)]=\"formTextStyle.fill\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-size\">Méret:</label></td>\n+            <td>\n+              <input id=\"text-size\" type=\"number\" [(ngModel)]=\"formTextStyle.fontSize\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-font\">Betűtípus:</label></td>\n+            <td>\n+              <select id=\"text-font\" [(ngModel)]=\"formTextStyle.fontFamily\" (change)=\"applyTextStyle()\">\n+                <option value=\"Arial\">Arial</option>\n+                <option value=\"Courier New\">Courier New</option>\n+                <option value=\"Georgia\">Georgia</option>\n+                <option value=\"Times New Roman\">Times New Roman</option>\n+                <option value=\"Verdana\">Verdana</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+  <td><label for=\"text-align\">Igazítás:</label></td>\n+  <td>\n+    <select id=\"text-align\" [(ngModel)]=\"formTextStyle.textAlign\" (change)=\"applyTextStyle()\">\n+      <option value=\"left\">Balra</option>\n+      <option value=\"center\">Középre</option>\n+      <option value=\"right\">Jobbra</option>\n+    </select>\n+  </td>\n+</tr>\n+          <tr>\n+            <td rowspan=\"4\" valign=\"top\"><br>Betűstílus:</td>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontWeight === 'bold'\"\n+                (change)=\"formTextStyle.fontWeight = $event.checked ? 'bold' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Félkövér\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontStyle === 'italic'\"\n+                (change)=\"formTextStyle.fontStyle = $event.checked ? 'italic' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Dőlt\n+              </mat-checkbox>\n+\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.underline\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Aláhúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.linethrough\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Áthúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- LINE DETAILS -->\n+      <div *ngIf=\"showLinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonal tulajdonságok</h3>\n+        <hr>\n+        <table>\n+          <tr>\n+            <td><label>Szín:</label></td>\n+            <td><input type=\"color\" [(ngModel)]=\"formLineStyle.stroke\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Vastagság:</label></td>\n+            <td><input type=\"number\" [(ngModel)]=\"formLineStyle.strokeWidth\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Stílus:</label></td>\n+            <td>\n+              <select [(ngModel)]=\"formLineStyle.strokeDashArray\" (change)=\"applyLineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYLINE DETAILS -->\n+      <div *ngIf=\"showPolylinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonallánc tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polyline-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"polyline-color\" type=\"color\" [(ngModel)]=\"formPolylineStyle.stroke\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"polyline-width\" type=\"number\" [(ngModel)]=\"formPolylineStyle.strokeWidth\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polyline-style\" [(ngModel)]=\"formPolylineStyle.strokeDashArray\"\n+                (change)=\"applyPolylineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- RECT DETAILS -->\n+      <div *ngIf=\"showRectPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Téglalap tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"rect-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"rect-stroke\" type=\"color\" [(ngModel)]=\"formRectStyle.stroke\" (change)=\"applyRectStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"rect-stroke-width\" type=\"number\" [(ngModel)]=\"formRectStyle.strokeWidth\"\n+                (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"rect-stroke-style\" [(ngModel)]=\"formRectStyle.strokeDashArray\" (change)=\"applyRectStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-fill\">Kitöltés:</label></td>\n+            <td><input id=\"rect-fill\" type=\"color\" [(ngModel)]=\"formRectStyle.fill\" (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"fill-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" value=\"formRectStyle.fillOpacity\"\n+                (input)=\"onOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formRectStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formRectStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- ELLIPSE DETAILS -->\n+      <div *ngIf=\"showEllipsePanel\" class=\"ellipse-settings\">\n+        <h3 class=\"title\">Ellipszis tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"ellipse-stroke\">Vonal szín:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke\" type=\"color\" [(ngModel)]=\"formEllipseStyle.stroke\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke-width\" type=\"number\" [(ngModel)]=\"formEllipseStyle.strokeWidth\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"ellipse-stroke-style\" [(ngModel)]=\"formEllipseStyle.strokeDashArray\"\n+                (change)=\"applyEllipseStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-fill\">Kitöltés:</label></td>\n+            <td>\n+              <input id=\"ellipse-fill\" type=\"color\" [(ngModel)]=\"formEllipseStyle.fill\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label>Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onEllipseOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formEllipseStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formEllipseStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYGON SETTINGS -->\n+      <div *ngIf=\"showPolygonPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Poligon tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polygon-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"polygon-stroke\" type=\"color\" [(ngModel)]=\"formPolygonStyle.stroke\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"polygon-stroke-width\" type=\"number\" [(ngModel)]=\"formPolygonStyle.strokeWidth\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polygon-stroke-style\" [(ngModel)]=\"formPolygonStyle.strokeDashArray\"\n+                (change)=\"applyPolygonStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-fill\">Kitöltés:</label></td>\n+            <td><input id=\"polygon-fill\" type=\"color\" [(ngModel)]=\"formPolygonStyle.fill\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onPolygonOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formPolygonStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formPolygonStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+    \n+    <div class=\"layer-controls\" *ngIf=\"isObjectSelected\">\n+      <hr>\n+      <button mat-icon-button (click)=\"bringToFront()\" title=\"Előre hozás\"><mat-icon>vertical_align_top</mat-icon></button>\n+      <button mat-icon-button (click)=\"bringForward()\" title=\"Előrébb hozás\"><mat-icon>arrow_upward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendBackward()\" title=\"Hátrébb küldés\"><mat-icon>arrow_downward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendToBack()\" title=\"Hátra küldés\"><mat-icon>vertical_align_bottom</mat-icon></button>\n+      <hr>\n+    </div>\n+</div>\n+  </div>\n+\n+  <small>Zoom: Egérgörgő | Pan: Alt + Bal egérgomb húzással</small>\n+  <small>{{canvas.zoom.value}}</small>\n+  <br><br>\n+  <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"fileInput.click()\" class=\"ms-1\"><mat-icon>upload</mat-icon>Betöltés SVG-ből</button>\n+  <input  type=\"file\" accept=\".svg\" style=\"display: none;\" #fileInput (change)=\"onFileSelected($event)\" />\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753092983854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,9 @@\n </div>\n   </div>\n \n   <small>Zoom: Egérgörgő | Pan: Alt + Bal egérgomb húzással</small>\n-  <small>{{canvas.zoom.value}}</small>\n+  <small>{{canvas.getZoom()}}</small>\n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n   <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n   <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n"
                },
                {
                    "date": 1753093006261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,9 @@\n </div>\n   </div>\n \n   <small>Zoom: Egérgörgő | Pan: Alt + Bal egérgomb húzással</small>\n-  <small>{{canvas.getZoom()}}</small>\n+  <small>Zoom: {{ zoom }}x</small>\n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n   <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n   <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n"
                },
                {
                    "date": 1753093110169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,10 @@\n </div>\n   </div>\n \n   <small>Zoom: Egérgörgő | Pan: Alt + Bal egérgomb húzással</small>\n-  <small>Zoom: {{ zoom }}x</small>\n+<small>Zoom: {{ zoom | number:'1.2-2' }}x</small>\n+\n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n   <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n   <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n"
                },
                {
                    "date": 1753093152151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,330 @@\n+<div class=\"container\">\n+  <h2>Alaprajz szerkesztése</h2>\n+\n+  <div class=\"toolbar\">\n+\n+    <mat-button-toggle-group name=\"modeselect\" [(ngModel)]=\"mode\" (change)=\"onModeChange()\"\n+      [hideSingleSelectionIndicator]=\"true\">\n+      <mat-button-toggle value=\"select\" title=\"Kijelölés\"><mat-icon>arrow_upward</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"line\" title=\"Vonal\"><mat-icon>remove</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"polyline\" title=\"Vonallánc\"><mat-icon> show_chart</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"rect\" title=\"Téglalap\"><mat-icon>crop_square</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"ellipse\"\n+        title=\"Ellipszis\"><mat-icon>radio_button_unchecked</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"polygon\" title=\"Poligon\"><mat-icon>star_border</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"textbox\" title=\"Szöveg\"><mat-icon> text_fields</mat-icon> </mat-button-toggle>\n+    </mat-button-toggle-group>\n+\n+    <div class=\"mat-button-group\">\n+\n+      <mat-checkbox class=\"example-margin\" color=\"primary\" [(ngModel)]=\"gridSnapEnabled\">Rácshoz igazítás</mat-checkbox>\n+\n+      <button mat-flat-button (click)=\"clearCanvas()\" title=\"Rajzlap törlése\">\n+        <mat-icon>cancel_presentation</mat-icon>\n+        Törlés\n+      </button>\n+      <button mat-flat-button (click)=\"resetView()\" title=\"Nézet alaphelyzetbe állítása\">\n+        <mat-icon>zoom_out_map</mat-icon>\n+        Nézet alaphelyzet\n+      </button>\n+    </div>\n+\n+  </div>\n+  <div class=\"toolbar\">\n+\n+    <canvas id=\"canvas-id\"  ></canvas>\n+\n+    <div class=\"details\">\n+\n+      <!-- TEXT DETAILS -->\n+      <div *ngIf=\"showTextPanel\" class=\"text-settings\">\n+        <h3 class=\"title\">Szöveg tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"text-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"text-color\" type=\"color\" [(ngModel)]=\"formTextStyle.fill\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-size\">Méret:</label></td>\n+            <td>\n+              <input id=\"text-size\" type=\"number\" [(ngModel)]=\"formTextStyle.fontSize\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-font\">Betűtípus:</label></td>\n+            <td>\n+              <select id=\"text-font\" [(ngModel)]=\"formTextStyle.fontFamily\" (change)=\"applyTextStyle()\">\n+                <option value=\"Arial\">Arial</option>\n+                <option value=\"Courier New\">Courier New</option>\n+                <option value=\"Georgia\">Georgia</option>\n+                <option value=\"Times New Roman\">Times New Roman</option>\n+                <option value=\"Verdana\">Verdana</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+  <td><label for=\"text-align\">Igazítás:</label></td>\n+  <td>\n+    <select id=\"text-align\" [(ngModel)]=\"formTextStyle.textAlign\" (change)=\"applyTextStyle()\">\n+      <option value=\"left\">Balra</option>\n+      <option value=\"center\">Középre</option>\n+      <option value=\"right\">Jobbra</option>\n+    </select>\n+  </td>\n+</tr>\n+          <tr>\n+            <td rowspan=\"4\" valign=\"top\"><br>Betűstílus:</td>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontWeight === 'bold'\"\n+                (change)=\"formTextStyle.fontWeight = $event.checked ? 'bold' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Félkövér\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontStyle === 'italic'\"\n+                (change)=\"formTextStyle.fontStyle = $event.checked ? 'italic' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Dőlt\n+              </mat-checkbox>\n+\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.underline\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Aláhúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.linethrough\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Áthúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- LINE DETAILS -->\n+      <div *ngIf=\"showLinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonal tulajdonságok</h3>\n+        <hr>\n+        <table>\n+          <tr>\n+            <td><label>Szín:</label></td>\n+            <td><input type=\"color\" [(ngModel)]=\"formLineStyle.stroke\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Vastagság:</label></td>\n+            <td><input type=\"number\" [(ngModel)]=\"formLineStyle.strokeWidth\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Stílus:</label></td>\n+            <td>\n+              <select [(ngModel)]=\"formLineStyle.strokeDashArray\" (change)=\"applyLineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYLINE DETAILS -->\n+      <div *ngIf=\"showPolylinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonallánc tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polyline-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"polyline-color\" type=\"color\" [(ngModel)]=\"formPolylineStyle.stroke\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"polyline-width\" type=\"number\" [(ngModel)]=\"formPolylineStyle.strokeWidth\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polyline-style\" [(ngModel)]=\"formPolylineStyle.strokeDashArray\"\n+                (change)=\"applyPolylineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- RECT DETAILS -->\n+      <div *ngIf=\"showRectPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Téglalap tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"rect-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"rect-stroke\" type=\"color\" [(ngModel)]=\"formRectStyle.stroke\" (change)=\"applyRectStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"rect-stroke-width\" type=\"number\" [(ngModel)]=\"formRectStyle.strokeWidth\"\n+                (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"rect-stroke-style\" [(ngModel)]=\"formRectStyle.strokeDashArray\" (change)=\"applyRectStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-fill\">Kitöltés:</label></td>\n+            <td><input id=\"rect-fill\" type=\"color\" [(ngModel)]=\"formRectStyle.fill\" (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"fill-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" value=\"formRectStyle.fillOpacity\"\n+                (input)=\"onOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formRectStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formRectStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- ELLIPSE DETAILS -->\n+      <div *ngIf=\"showEllipsePanel\" class=\"ellipse-settings\">\n+        <h3 class=\"title\">Ellipszis tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"ellipse-stroke\">Vonal szín:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke\" type=\"color\" [(ngModel)]=\"formEllipseStyle.stroke\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke-width\" type=\"number\" [(ngModel)]=\"formEllipseStyle.strokeWidth\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"ellipse-stroke-style\" [(ngModel)]=\"formEllipseStyle.strokeDashArray\"\n+                (change)=\"applyEllipseStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-fill\">Kitöltés:</label></td>\n+            <td>\n+              <input id=\"ellipse-fill\" type=\"color\" [(ngModel)]=\"formEllipseStyle.fill\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label>Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onEllipseOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formEllipseStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formEllipseStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYGON SETTINGS -->\n+      <div *ngIf=\"showPolygonPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Poligon tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polygon-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"polygon-stroke\" type=\"color\" [(ngModel)]=\"formPolygonStyle.stroke\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"polygon-stroke-width\" type=\"number\" [(ngModel)]=\"formPolygonStyle.strokeWidth\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polygon-stroke-style\" [(ngModel)]=\"formPolygonStyle.strokeDashArray\"\n+                (change)=\"applyPolygonStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-fill\">Kitöltés:</label></td>\n+            <td><input id=\"polygon-fill\" type=\"color\" [(ngModel)]=\"formPolygonStyle.fill\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onPolygonOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formPolygonStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formPolygonStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+    \n+    <div class=\"layer-controls\" *ngIf=\"isObjectSelected\">\n+      <hr>\n+      <button mat-icon-button (click)=\"bringToFront()\" title=\"Előre hozás\"><mat-icon>vertical_align_top</mat-icon></button>\n+      <button mat-icon-button (click)=\"bringForward()\" title=\"Előrébb hozás\"><mat-icon>arrow_upward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendBackward()\" title=\"Hátrébb küldés\"><mat-icon>arrow_downward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendToBack()\" title=\"Hátra küldés\"><mat-icon>vertical_align_bottom</mat-icon></button>\n+      <hr>\n+    </div>\n+</div>\n+  </div>\n+\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: Alt + Bal egérgomb húzással</small>\n+\n+\n+  <br><br>\n+  <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"fileInput.click()\" class=\"ms-1\"><mat-icon>upload</mat-icon>Betöltés SVG-ből</button>\n+  <input  type=\"file\" accept=\".svg\" style=\"display: none;\" #fileInput (change)=\"onFileSelected($event)\" />\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753093234384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     </div>\n </div>\n   </div>\n \n-  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: Alt + Bal egérgomb húzással</small>\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastpanpoint.x }} (Alt + Bal egérgomb húzással)</small>\n \n \n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n"
                },
                {
                    "date": 1753093244272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     </div>\n </div>\n   </div>\n \n-  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastpanpoint.x }} (Alt + Bal egérgomb húzással)</small>\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint.x }} (Alt + Bal egérgomb húzással)</small>\n \n \n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n"
                },
                {
                    "date": 1753093270019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     </div>\n </div>\n   </div>\n \n-  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint.x }} (Alt + Bal egérgomb húzással)</small>\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint.x = 0}} (Alt + Bal egérgomb húzással)</small>\n \n \n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n"
                },
                {
                    "date": 1753093278293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     </div>\n </div>\n   </div>\n \n-  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint.x | 0}} (Alt + Bal egérgomb húzással)</small>\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint.x }} (Alt + Bal egérgomb húzással)</small>\n \n \n   <br><br>\n   <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n"
                },
                {
                    "date": 1753093396307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,330 @@\n+<div class=\"container\">\n+  <h2>Alaprajz szerkesztése</h2>\n+\n+  <div class=\"toolbar\">\n+\n+    <mat-button-toggle-group name=\"modeselect\" [(ngModel)]=\"mode\" (change)=\"onModeChange()\"\n+      [hideSingleSelectionIndicator]=\"true\">\n+      <mat-button-toggle value=\"select\" title=\"Kijelölés\"><mat-icon>arrow_upward</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"line\" title=\"Vonal\"><mat-icon>remove</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"polyline\" title=\"Vonallánc\"><mat-icon> show_chart</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"rect\" title=\"Téglalap\"><mat-icon>crop_square</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"ellipse\"\n+        title=\"Ellipszis\"><mat-icon>radio_button_unchecked</mat-icon></mat-button-toggle>\n+      <mat-button-toggle value=\"polygon\" title=\"Poligon\"><mat-icon>star_border</mat-icon> </mat-button-toggle>\n+      <mat-button-toggle value=\"textbox\" title=\"Szöveg\"><mat-icon> text_fields</mat-icon> </mat-button-toggle>\n+    </mat-button-toggle-group>\n+\n+    <div class=\"mat-button-group\">\n+\n+      <mat-checkbox class=\"example-margin\" color=\"primary\" [(ngModel)]=\"gridSnapEnabled\">Rácshoz igazítás</mat-checkbox>\n+\n+      <button mat-flat-button (click)=\"clearCanvas()\" title=\"Rajzlap törlése\">\n+        <mat-icon>cancel_presentation</mat-icon>\n+        Törlés\n+      </button>\n+      <button mat-flat-button (click)=\"resetView()\" title=\"Nézet alaphelyzetbe állítása\">\n+        <mat-icon>zoom_out_map</mat-icon>\n+        Nézet alaphelyzet\n+      </button>\n+    </div>\n+\n+  </div>\n+  <div class=\"toolbar\">\n+\n+    <canvas id=\"canvas-id\"  ></canvas>\n+\n+    <div class=\"details\">\n+\n+      <!-- TEXT DETAILS -->\n+      <div *ngIf=\"showTextPanel\" class=\"text-settings\">\n+        <h3 class=\"title\">Szöveg tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"text-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"text-color\" type=\"color\" [(ngModel)]=\"formTextStyle.fill\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-size\">Méret:</label></td>\n+            <td>\n+              <input id=\"text-size\" type=\"number\" [(ngModel)]=\"formTextStyle.fontSize\" (change)=\"applyTextStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"text-font\">Betűtípus:</label></td>\n+            <td>\n+              <select id=\"text-font\" [(ngModel)]=\"formTextStyle.fontFamily\" (change)=\"applyTextStyle()\">\n+                <option value=\"Arial\">Arial</option>\n+                <option value=\"Courier New\">Courier New</option>\n+                <option value=\"Georgia\">Georgia</option>\n+                <option value=\"Times New Roman\">Times New Roman</option>\n+                <option value=\"Verdana\">Verdana</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+  <td><label for=\"text-align\">Igazítás:</label></td>\n+  <td>\n+    <select id=\"text-align\" [(ngModel)]=\"formTextStyle.textAlign\" (change)=\"applyTextStyle()\">\n+      <option value=\"left\">Balra</option>\n+      <option value=\"center\">Középre</option>\n+      <option value=\"right\">Jobbra</option>\n+    </select>\n+  </td>\n+</tr>\n+          <tr>\n+            <td rowspan=\"4\" valign=\"top\"><br>Betűstílus:</td>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontWeight === 'bold'\"\n+                (change)=\"formTextStyle.fontWeight = $event.checked ? 'bold' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Félkövér\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [checked]=\"formTextStyle.fontStyle === 'italic'\"\n+                (change)=\"formTextStyle.fontStyle = $event.checked ? 'italic' : 'normal'; applyTextStyle()\"\n+                color=\"primary\">\n+                Dőlt\n+              </mat-checkbox>\n+\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.underline\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Aláhúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td>\n+              <mat-checkbox [(ngModel)]=\"formTextStyle.linethrough\" [ngModelOptions]=\"{standalone: true}\"\n+                (change)=\"applyTextStyle()\" color=\"primary\">\n+                Áthúzott\n+              </mat-checkbox>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- LINE DETAILS -->\n+      <div *ngIf=\"showLinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonal tulajdonságok</h3>\n+        <hr>\n+        <table>\n+          <tr>\n+            <td><label>Szín:</label></td>\n+            <td><input type=\"color\" [(ngModel)]=\"formLineStyle.stroke\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Vastagság:</label></td>\n+            <td><input type=\"number\" [(ngModel)]=\"formLineStyle.strokeWidth\" (change)=\"applyLineStyle()\"></td>\n+          </tr>\n+          <tr>\n+            <td><label>Stílus:</label></td>\n+            <td>\n+              <select [(ngModel)]=\"formLineStyle.strokeDashArray\" (change)=\"applyLineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYLINE DETAILS -->\n+      <div *ngIf=\"showPolylinePanel\" class=\"line-settings\">\n+        <h3 class=\"title\">Vonallánc tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polyline-color\">Szín:</label></td>\n+            <td>\n+              <input id=\"polyline-color\" type=\"color\" [(ngModel)]=\"formPolylineStyle.stroke\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"polyline-width\" type=\"number\" [(ngModel)]=\"formPolylineStyle.strokeWidth\"\n+                (change)=\"applyPolylineStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polyline-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polyline-style\" [(ngModel)]=\"formPolylineStyle.strokeDashArray\"\n+                (change)=\"applyPolylineStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- RECT DETAILS -->\n+      <div *ngIf=\"showRectPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Téglalap tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"rect-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"rect-stroke\" type=\"color\" [(ngModel)]=\"formRectStyle.stroke\" (change)=\"applyRectStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"rect-stroke-width\" type=\"number\" [(ngModel)]=\"formRectStyle.strokeWidth\"\n+                (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"rect-stroke-style\" [(ngModel)]=\"formRectStyle.strokeDashArray\" (change)=\"applyRectStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"rect-fill\">Kitöltés:</label></td>\n+            <td><input id=\"rect-fill\" type=\"color\" [(ngModel)]=\"formRectStyle.fill\" (change)=\"applyRectStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"fill-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" value=\"formRectStyle.fillOpacity\"\n+                (input)=\"onOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formRectStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formRectStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- ELLIPSE DETAILS -->\n+      <div *ngIf=\"showEllipsePanel\" class=\"ellipse-settings\">\n+        <h3 class=\"title\">Ellipszis tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"ellipse-stroke\">Vonal szín:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke\" type=\"color\" [(ngModel)]=\"formEllipseStyle.stroke\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-width\">Vastagság:</label></td>\n+            <td>\n+              <input id=\"ellipse-stroke-width\" type=\"number\" [(ngModel)]=\"formEllipseStyle.strokeWidth\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-stroke-style\">Vonalstílus:</label></td>\n+            <td>\n+              <select id=\"ellipse-stroke-style\" [(ngModel)]=\"formEllipseStyle.strokeDashArray\"\n+                (change)=\"applyEllipseStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"ellipse-fill\">Kitöltés:</label></td>\n+            <td>\n+              <input id=\"ellipse-fill\" type=\"color\" [(ngModel)]=\"formEllipseStyle.fill\"\n+                (change)=\"applyEllipseStyle()\" />\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label>Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onEllipseOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formEllipseStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formEllipseStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+\n+      <!-- POLYGON SETTINGS -->\n+      <div *ngIf=\"showPolygonPanel\" class=\"rect-settings\">\n+        <h3 class=\"title\">Poligon tulajdonságok</h3>\n+        <hr>\n+        <table class=\"text-settings-table\">\n+          <tr>\n+            <td><label for=\"polygon-stroke\">Vonal szín:</label></td>\n+            <td><input id=\"polygon-stroke\" type=\"color\" [(ngModel)]=\"formPolygonStyle.stroke\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-width\">Vastagság:</label></td>\n+            <td><input id=\"polygon-stroke-width\" type=\"number\" [(ngModel)]=\"formPolygonStyle.strokeWidth\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-stroke-style\">Stílus:</label></td>\n+            <td>\n+              <select id=\"polygon-stroke-style\" [(ngModel)]=\"formPolygonStyle.strokeDashArray\"\n+                (change)=\"applyPolygonStyle()\">\n+                <option value=\"solid\">Folytonos</option>\n+                <option value=\"dashed\">Szaggatott</option>\n+                <option value=\"dotted\">Pontozott</option>\n+              </select>\n+            </td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-fill\">Kitöltés:</label></td>\n+            <td><input id=\"polygon-fill\" type=\"color\" [(ngModel)]=\"formPolygonStyle.fill\"\n+                (change)=\"applyPolygonStyle()\" /></td>\n+          </tr>\n+          <tr>\n+            <td><label for=\"polygon-opacity\">Kitöltés áttetszőség:</label></td>\n+            <td>\n+              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onPolygonOpacityChange($event)\" class=\"w-100\">\n+                <input matSliderThumb [value]=\"formPolygonStyle.fillOpacity\">\n+              </mat-slider>\n+              <span>{{ formPolygonStyle.fillOpacity }}%</span>\n+            </td>\n+          </tr>\n+        </table>\n+      </div>\n+    \n+    <div class=\"layer-controls\" *ngIf=\"isObjectSelected\">\n+      <hr>\n+      <button mat-icon-button (click)=\"bringToFront()\" title=\"Előre hozás\"><mat-icon>vertical_align_top</mat-icon></button>\n+      <button mat-icon-button (click)=\"bringForward()\" title=\"Előrébb hozás\"><mat-icon>arrow_upward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendBackward()\" title=\"Hátrébb küldés\"><mat-icon>arrow_downward</mat-icon></button>\n+      <button mat-icon-button (click)=\"sendToBack()\" title=\"Hátra küldés\"><mat-icon>vertical_align_bottom</mat-icon></button>\n+      <hr>\n+    </div>\n+</div>\n+  </div>\n+\n+  <small>Zoom: {{ zoom | number:'1.2-2' }} (Egérgörgő) | Pan: {{ lastPanPoint!.x }} (Alt + Bal egérgomb húzással)</small>\n+\n+\n+  <br><br>\n+  <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n+  <button mat-flat-button color=\"primary\" (click)=\"fileInput.click()\" class=\"ms-1\"><mat-icon>upload</mat-icon>Betöltés SVG-ből</button>\n+  <input  type=\"file\" accept=\".svg\" style=\"display: none;\" #fileInput (change)=\"onFileSelected($event)\" />\n+</div>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753092958529,
            "name": "Commit-0",
            "content": "<div class=\"container\">\n  <h2>Alaprajz szerkesztése</h2>\n\n  <div class=\"toolbar\">\n\n    <mat-button-toggle-group name=\"modeselect\" [(ngModel)]=\"mode\" (change)=\"onModeChange()\"\n      [hideSingleSelectionIndicator]=\"true\">\n      <mat-button-toggle value=\"select\" title=\"Kijelölés\"><mat-icon>arrow_upward</mat-icon></mat-button-toggle>\n      <mat-button-toggle value=\"line\" title=\"Vonal\"><mat-icon>remove</mat-icon> </mat-button-toggle>\n      <mat-button-toggle value=\"polyline\" title=\"Vonallánc\"><mat-icon> show_chart</mat-icon> </mat-button-toggle>\n      <mat-button-toggle value=\"rect\" title=\"Téglalap\"><mat-icon>crop_square</mat-icon> </mat-button-toggle>\n      <mat-button-toggle value=\"ellipse\"\n        title=\"Ellipszis\"><mat-icon>radio_button_unchecked</mat-icon></mat-button-toggle>\n      <mat-button-toggle value=\"polygon\" title=\"Poligon\"><mat-icon>star_border</mat-icon> </mat-button-toggle>\n      <mat-button-toggle value=\"textbox\" title=\"Szöveg\"><mat-icon> text_fields</mat-icon> </mat-button-toggle>\n    </mat-button-toggle-group>\n\n    <div class=\"mat-button-group\">\n\n      <mat-checkbox class=\"example-margin\" color=\"primary\" [(ngModel)]=\"gridSnapEnabled\">Rácshoz igazítás</mat-checkbox>\n\n      <button mat-flat-button (click)=\"clearCanvas()\" title=\"Rajzlap törlése\">\n        <mat-icon>cancel_presentation</mat-icon>\n        Törlés\n      </button>\n      <button mat-flat-button (click)=\"resetView()\" title=\"Nézet alaphelyzetbe állítása\">\n        <mat-icon>zoom_out_map</mat-icon>\n        Nézet alaphelyzet\n      </button>\n    </div>\n\n  </div>\n  <div class=\"toolbar\">\n\n    <canvas id=\"canvas-id\"  ></canvas>\n\n    <div class=\"details\">\n\n      <!-- TEXT DETAILS -->\n      <div *ngIf=\"showTextPanel\" class=\"text-settings\">\n        <h3 class=\"title\">Szöveg tulajdonságok</h3>\n        <hr>\n        <table class=\"text-settings-table\">\n          <tr>\n            <td><label for=\"text-color\">Szín:</label></td>\n            <td>\n              <input id=\"text-color\" type=\"color\" [(ngModel)]=\"formTextStyle.fill\" (change)=\"applyTextStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"text-size\">Méret:</label></td>\n            <td>\n              <input id=\"text-size\" type=\"number\" [(ngModel)]=\"formTextStyle.fontSize\" (change)=\"applyTextStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"text-font\">Betűtípus:</label></td>\n            <td>\n              <select id=\"text-font\" [(ngModel)]=\"formTextStyle.fontFamily\" (change)=\"applyTextStyle()\">\n                <option value=\"Arial\">Arial</option>\n                <option value=\"Courier New\">Courier New</option>\n                <option value=\"Georgia\">Georgia</option>\n                <option value=\"Times New Roman\">Times New Roman</option>\n                <option value=\"Verdana\">Verdana</option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n  <td><label for=\"text-align\">Igazítás:</label></td>\n  <td>\n    <select id=\"text-align\" [(ngModel)]=\"formTextStyle.textAlign\" (change)=\"applyTextStyle()\">\n      <option value=\"left\">Balra</option>\n      <option value=\"center\">Középre</option>\n      <option value=\"right\">Jobbra</option>\n    </select>\n  </td>\n</tr>\n          <tr>\n            <td rowspan=\"4\" valign=\"top\"><br>Betűstílus:</td>\n            <td>\n              <mat-checkbox [checked]=\"formTextStyle.fontWeight === 'bold'\"\n                (change)=\"formTextStyle.fontWeight = $event.checked ? 'bold' : 'normal'; applyTextStyle()\"\n                color=\"primary\">\n                Félkövér\n              </mat-checkbox>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <mat-checkbox [checked]=\"formTextStyle.fontStyle === 'italic'\"\n                (change)=\"formTextStyle.fontStyle = $event.checked ? 'italic' : 'normal'; applyTextStyle()\"\n                color=\"primary\">\n                Dőlt\n              </mat-checkbox>\n\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <mat-checkbox [(ngModel)]=\"formTextStyle.underline\" [ngModelOptions]=\"{standalone: true}\"\n                (change)=\"applyTextStyle()\" color=\"primary\">\n                Aláhúzott\n              </mat-checkbox>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <mat-checkbox [(ngModel)]=\"formTextStyle.linethrough\" [ngModelOptions]=\"{standalone: true}\"\n                (change)=\"applyTextStyle()\" color=\"primary\">\n                Áthúzott\n              </mat-checkbox>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <!-- LINE DETAILS -->\n      <div *ngIf=\"showLinePanel\" class=\"line-settings\">\n        <h3 class=\"title\">Vonal tulajdonságok</h3>\n        <hr>\n        <table>\n          <tr>\n            <td><label>Szín:</label></td>\n            <td><input type=\"color\" [(ngModel)]=\"formLineStyle.stroke\" (change)=\"applyLineStyle()\"></td>\n          </tr>\n          <tr>\n            <td><label>Vastagság:</label></td>\n            <td><input type=\"number\" [(ngModel)]=\"formLineStyle.strokeWidth\" (change)=\"applyLineStyle()\"></td>\n          </tr>\n          <tr>\n            <td><label>Stílus:</label></td>\n            <td>\n              <select [(ngModel)]=\"formLineStyle.strokeDashArray\" (change)=\"applyLineStyle()\">\n                <option value=\"solid\">Folytonos</option>\n                <option value=\"dashed\">Szaggatott</option>\n                <option value=\"dotted\">Pontozott</option>\n              </select>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <!-- POLYLINE DETAILS -->\n      <div *ngIf=\"showPolylinePanel\" class=\"line-settings\">\n        <h3 class=\"title\">Vonallánc tulajdonságok</h3>\n        <hr>\n        <table class=\"text-settings-table\">\n          <tr>\n            <td><label for=\"polyline-color\">Szín:</label></td>\n            <td>\n              <input id=\"polyline-color\" type=\"color\" [(ngModel)]=\"formPolylineStyle.stroke\"\n                (change)=\"applyPolylineStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"polyline-width\">Vastagság:</label></td>\n            <td>\n              <input id=\"polyline-width\" type=\"number\" [(ngModel)]=\"formPolylineStyle.strokeWidth\"\n                (change)=\"applyPolylineStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"polyline-style\">Stílus:</label></td>\n            <td>\n              <select id=\"polyline-style\" [(ngModel)]=\"formPolylineStyle.strokeDashArray\"\n                (change)=\"applyPolylineStyle()\">\n                <option value=\"solid\">Folytonos</option>\n                <option value=\"dashed\">Szaggatott</option>\n                <option value=\"dotted\">Pontozott</option>\n              </select>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <!-- RECT DETAILS -->\n      <div *ngIf=\"showRectPanel\" class=\"rect-settings\">\n        <h3 class=\"title\">Téglalap tulajdonságok</h3>\n        <hr>\n        <table class=\"text-settings-table\">\n          <tr>\n            <td><label for=\"rect-stroke\">Vonal szín:</label></td>\n            <td><input id=\"rect-stroke\" type=\"color\" [(ngModel)]=\"formRectStyle.stroke\" (change)=\"applyRectStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"rect-stroke-width\">Vastagság:</label></td>\n            <td><input id=\"rect-stroke-width\" type=\"number\" [(ngModel)]=\"formRectStyle.strokeWidth\"\n                (change)=\"applyRectStyle()\" /></td>\n          </tr>\n          <tr>\n            <td><label for=\"rect-stroke-style\">Vonalstílus:</label></td>\n            <td>\n              <select id=\"rect-stroke-style\" [(ngModel)]=\"formRectStyle.strokeDashArray\" (change)=\"applyRectStyle()\">\n                <option value=\"solid\">Folytonos</option>\n                <option value=\"dashed\">Szaggatott</option>\n                <option value=\"dotted\">Pontozott</option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"rect-fill\">Kitöltés:</label></td>\n            <td><input id=\"rect-fill\" type=\"color\" [(ngModel)]=\"formRectStyle.fill\" (change)=\"applyRectStyle()\" /></td>\n          </tr>\n          <tr>\n            <td><label for=\"fill-opacity\">Kitöltés áttetszőség:</label></td>\n            <td>\n              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" value=\"formRectStyle.fillOpacity\"\n                (input)=\"onOpacityChange($event)\" class=\"w-100\">\n                <input matSliderThumb [value]=\"formRectStyle.fillOpacity\">\n              </mat-slider>\n              <span>{{ formRectStyle.fillOpacity }}%</span>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <!-- ELLIPSE DETAILS -->\n      <div *ngIf=\"showEllipsePanel\" class=\"ellipse-settings\">\n        <h3 class=\"title\">Ellipszis tulajdonságok</h3>\n        <hr>\n        <table class=\"text-settings-table\">\n          <tr>\n            <td><label for=\"ellipse-stroke\">Vonal szín:</label></td>\n            <td>\n              <input id=\"ellipse-stroke\" type=\"color\" [(ngModel)]=\"formEllipseStyle.stroke\"\n                (change)=\"applyEllipseStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"ellipse-stroke-width\">Vastagság:</label></td>\n            <td>\n              <input id=\"ellipse-stroke-width\" type=\"number\" [(ngModel)]=\"formEllipseStyle.strokeWidth\"\n                (change)=\"applyEllipseStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"ellipse-stroke-style\">Vonalstílus:</label></td>\n            <td>\n              <select id=\"ellipse-stroke-style\" [(ngModel)]=\"formEllipseStyle.strokeDashArray\"\n                (change)=\"applyEllipseStyle()\">\n                <option value=\"solid\">Folytonos</option>\n                <option value=\"dashed\">Szaggatott</option>\n                <option value=\"dotted\">Pontozott</option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"ellipse-fill\">Kitöltés:</label></td>\n            <td>\n              <input id=\"ellipse-fill\" type=\"color\" [(ngModel)]=\"formEllipseStyle.fill\"\n                (change)=\"applyEllipseStyle()\" />\n            </td>\n          </tr>\n          <tr>\n            <td><label>Kitöltés áttetszőség:</label></td>\n            <td>\n              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onEllipseOpacityChange($event)\" class=\"w-100\">\n                <input matSliderThumb [value]=\"formEllipseStyle.fillOpacity\">\n              </mat-slider>\n              <span>{{ formEllipseStyle.fillOpacity }}%</span>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <!-- POLYGON SETTINGS -->\n      <div *ngIf=\"showPolygonPanel\" class=\"rect-settings\">\n        <h3 class=\"title\">Poligon tulajdonságok</h3>\n        <hr>\n        <table class=\"text-settings-table\">\n          <tr>\n            <td><label for=\"polygon-stroke\">Vonal szín:</label></td>\n            <td><input id=\"polygon-stroke\" type=\"color\" [(ngModel)]=\"formPolygonStyle.stroke\"\n                (change)=\"applyPolygonStyle()\" /></td>\n          </tr>\n          <tr>\n            <td><label for=\"polygon-stroke-width\">Vastagság:</label></td>\n            <td><input id=\"polygon-stroke-width\" type=\"number\" [(ngModel)]=\"formPolygonStyle.strokeWidth\"\n                (change)=\"applyPolygonStyle()\" /></td>\n          </tr>\n          <tr>\n            <td><label for=\"polygon-stroke-style\">Stílus:</label></td>\n            <td>\n              <select id=\"polygon-stroke-style\" [(ngModel)]=\"formPolygonStyle.strokeDashArray\"\n                (change)=\"applyPolygonStyle()\">\n                <option value=\"solid\">Folytonos</option>\n                <option value=\"dashed\">Szaggatott</option>\n                <option value=\"dotted\">Pontozott</option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td><label for=\"polygon-fill\">Kitöltés:</label></td>\n            <td><input id=\"polygon-fill\" type=\"color\" [(ngModel)]=\"formPolygonStyle.fill\"\n                (change)=\"applyPolygonStyle()\" /></td>\n          </tr>\n          <tr>\n            <td><label for=\"polygon-opacity\">Kitöltés áttetszőség:</label></td>\n            <td>\n              <mat-slider [min]=\"0\" [max]=\"100\" [step]=\"1\" (input)=\"onPolygonOpacityChange($event)\" class=\"w-100\">\n                <input matSliderThumb [value]=\"formPolygonStyle.fillOpacity\">\n              </mat-slider>\n              <span>{{ formPolygonStyle.fillOpacity }}%</span>\n            </td>\n          </tr>\n        </table>\n      </div>\n    \n    <div class=\"layer-controls\" *ngIf=\"isObjectSelected\">\n      <hr>\n      <button mat-icon-button (click)=\"bringToFront()\" title=\"Előre hozás\"><mat-icon>vertical_align_top</mat-icon></button>\n      <button mat-icon-button (click)=\"bringForward()\" title=\"Előrébb hozás\"><mat-icon>arrow_upward</mat-icon></button>\n      <button mat-icon-button (click)=\"sendBackward()\" title=\"Hátrébb küldés\"><mat-icon>arrow_downward</mat-icon></button>\n      <button mat-icon-button (click)=\"sendToBack()\" title=\"Hátra küldés\"><mat-icon>vertical_align_bottom</mat-icon></button>\n      <hr>\n    </div>\n</div>\n  </div>\n\n  <small>Zoom: Egérgörgő | Pan: Alt + Bal egérgomb húzással</small>\n  <small>{{canvas.zoom}}</small>\n  <br><br>\n  <button mat-flat-button color=\"primary\" routerLink=\"/levels/2\"> <mat-icon>keyboard_backspace</mat-icon>Vissza</button>\n  <button mat-flat-button color=\"primary\" (click)=\"saveToDatabase()\" class=\"ms-1\"><mat-icon>save</mat-icon> Mentés</button>\n  <button mat-flat-button color=\"primary\" (click)=\"downloadSvg()\" class=\"ms-1\"><mat-icon>download</mat-icon> Letöltés SVG-be</button>\n  <button mat-flat-button color=\"primary\" (click)=\"fileInput.click()\" class=\"ms-1\"><mat-icon>upload</mat-icon>Betöltés SVG-ből</button>\n  <input  type=\"file\" accept=\".svg\" style=\"display: none;\" #fileInput (change)=\"onFileSelected($event)\" />\n</div>"
        }
    ]
}